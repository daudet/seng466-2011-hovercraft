<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>SEng 466 Project Page</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="../default.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="wrapper">
<!-- start header -->

<div id="logo">
	<h1>
	SEng 466 - Software for Embedded and Mechatronics Systems
	</h1>
</div>


<div id="header">
	<div id="menu">
		<ul>
			<li class="current_page_item"><a href="../index.html">Homepage</a></li>
			<li><a href="project1.html">Project 1</a></li>
			<li><a href="../project_2/project2.html">Project 2</a></li>
			<li><a href="../project_3/project3.html">Project 3</a></li>
			<li><a href="../contact.html">Contact</a></li>
		</ul>
	</div>
</div>
<!-- end header -->
</div>
<!-- start page -->
<div id="page">
	<!-- start content -->
	<div id="content">
		<div class="post">
			<h1 class="title">Hardware Overview</h1>

			<h1 class="title">Arduino Hardware</h1>
			<img src="../images/ArduinoUnoFront.jpg"/>
			<img src="../images/seeeduino.jpg"/>
		
			<h1 class="title">Motor Driver</h1>
			<h1 class="title">Sonar</h1>
			
			<h1 class="title">BlinkM LED</h1>
			<p>The BlinkM LED uses an I2C "two wire" bus architecture to communicate with the Arduino hardware. We are using the BlinkM LED to give us feedback from the sonar as well as signify when the platform has received the emergency stop command. Basic communication structure for communicating with the device is as follows:

<div class=code>			
<?php
include_once '../includes/geshi.php';
$source='Wire.begin();
	//default address of the BlinkM
	Wire.beginTransmission(0x09);
	Wire.send('o');
	Wire.send('n');
	Wire.send(0xff);
	Wire.send(0x66);
	Wire.send(0x00);
	Wire.endTransmission();
$geshi = new GeSHi($source, 'c');
$geshi->enable_line_numbers(GESHI_NORMAL_LINE_NUMBERS);
echo $geshi->parse_code();
?>
</div>
		      <br/>
		      <p>The above code sends the character 'o' to stop any light scripts running on the device, the character 'n' followed by RGB values to tell the device to switch immediately to the given RGB color. We found that if we didn't send the 'stop script' command, occaisionally the LED would revert to the last programmed light script, producing unpredictable behavior.
	


<h1 class="title">Sonar</h1>
			<p> </p>
			
			<h1 class="title">Motor Driver</h1>
			<p> The Compact L298 Motor Driver from Solarbotics was used to drive the two motors of our project. It is powered directly from our battery supply, but connected through a relay controlled by an arduino. However, the relay cannot be controlled directly since it requires too much current. Therefore, a buffering circuit must be designed. We used two transistors to create a darlington pair.</p>
			
			<img src="../images/relay.png" height="200" width="250"alt="Relay Circuit"/>
			
			<p>Operation of the motor driver is accomplished with three pins per motor. Two of these pins define the directon of the motor, and the other is an enable pin that can be pulse width modulated for speed control. Below is the logic table for the two motors. We are using the third set of tables which uses PWM, but we aren't use the pulse-brake function.</p> 
			
			<img src="../images/logictable.png" height="200" width="250"alt="L298 Logic Table"/>
			
			<h1 class="title">Power Supply</h1>

			<p>This project contains both analog circuitry and digital circuitry so great care must be taken to ensure noise is eliminated or suppressed. One of the ways to do this is in the power supply.
			
			We are using an extremely large power supply for the typical draw of this project. It is a 7.2 V battery rated at 4200mAH. This 7.2 V supply is used to directly power the motors, but this voltage must be regulated at 5 V with a LM7805 voltage regulator. Our circuit is very similar to the one pictured below. The two capacitors are used for noise suppression and are 0.1 uF each. We didn't record any noise issues, but they are there just in case. There is also a 1000 ohm resistor connected from the output to ground to maintain the minimum current for regulator operation.</p>

			<img src="../images/LM7805.gif" height="200" width="250"alt="http://snesdev.antihero.org/wp-content/uploads/2008/03/lm7805.gif"/>



			
		</div>
	</div>
	<div id="sidebar">
		<h2>Project 1</h2>
		<a href="project1.html">Overview</a><br />
		<a href="software.html">Software Environment</a><br />
		<a href="hardware.html">Electronic Components</a><br />
		<a href="communications.html">Communications</a><br />
		<a href="gamepad.html">USB PS2 Gamepad</a><br />
		<a href="physical.html">Physical Layout</a><br />
		<a href="discussion.html">Discussion</a><br />
	</div>
	<!-- end content -->
	<div style="clear: both;">&nbsp;</div>
</div>
<!-- end page -->
</body>
</html>
